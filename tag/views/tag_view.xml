<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_tag_search" model="ir.ui.view">
        <field name="name">tag.search</field>
        <field name="model">tag.tag</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
                <field name="code"/>
                <field name="cat_type"/>
                <field name="fld_cat"/>
                <field name="model_id"/>
                <field name="state_group"/>
                <field name="duration"/>
                <field name="parent_cat"/>
                <group expand="0" string="Group By...">
                    <filter string="Model" name="group_by_model" domain="[]" context="{'group_by':'model_id'}"/>
                    <filter string="Category" name="group_by_category" domain="[]" context="{'group_by':'fld_cat'}"/>
                    <filter string="Parente Category" name="group_by_parent_category" domain="[]" context="{'group_by':'parent_cat'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="view_tag_simple_form" model="ir.ui.view">
        <field name="name">tag.form</field>
        <field name="model">tag.tag</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <field name="image" widget='image' class="oe_avatar"
                           options='{"preview_image": "avatar_128"}'/>
                    <div class="oe_title">
                        <h1>
                            <field name="complete_name" />
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="name" />
                            <field name="sequence"/>
                            <field name="value1"/>
                            <field name="value2"/>
                            <field name="value3"/>
                        </group>
                        <group>
                            <field name="parent_cat" invisible="'cat_type' != 'tag'"/>
                            <field name="description"
                                   placeholder="Description shown to user..."/>
                            <field name="fld_cat" invisible="1"
                                   options="{'no_open': True, 'no_create': True}"/>
                            <field name="cat_type"  invisible="1"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_tag_simple_list" model="ir.ui.view">
        <field name="name">tag.list</field>
        <field name="model">tag.tag</field>
        <field name="arch" type="xml">
            <list>
                <field name="name"/>
                <field name="sequence" optional="hide"/>
                <field name="value1"/>
                <field name="value2"/>
                <field name="value3" optional="hide"/>
                <field name="fld_cat" optional="hide"/>
                <field name="no_delete" optional="hide"/>
                <field name="no_write" optional="hide"/>
                <field name="readonly_fields" optional="hide"/>
                <field name="required_fields" optional="hide"/>
                <field name="model_id" optional="hide"/>
            </list>
        </field>
    </record>

    <record id="view_tag_list" model="ir.ui.view">
        <field name="name">tag.list</field>
        <field name="model">tag.tag</field>
        <field name="arch" type="xml">
            <list>
                <field name="name"/>
                <field name="code"/>
                <field name="sequence"/>
                <field name="cat_type"/>
                <field name="parent_cat" />
                <field name="value1"/>
                <field name="value2"/>
                <field name="value3" optional="hide"/>
                <field name="fld_cat" optional="hide"/>
                <field name="model_id" optional="hide"/>
                <field name="no_delete" optional="hide"/>
                <field name="no_write" optional="hide"/>
                <field name="readonly_fields" optional="hide"/>
                <field name="required_fields" optional="hide"/>
                <field name="state_group" optional="hide" />
                <field name="duration" optional="hide"/>
                <field name="objects_count" string="Objects #"/>
                <button name="action_show_objects" type="object" string="Show Objects"
                        invisible="objects_count == 0" icon="fa-search"/>
            </list>
        </field>
    </record>

    <record id="view_tag_form" model="ir.ui.view">
        <field name="name">tag.form</field>
        <field name="model">tag.tag</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_show_objects"
                                type="object" icon="fa-bars"
                                class="oe_stat_button">
                            <field name="objects_count" string="Objects" widget="statinfo"/>
                        </button>
                        <button name="toggle_active" type="object" groups="base.group_user"
                                class="oe_stat_button" icon="fa-archive">
                            <field name="active" widget="boolean_button"
                                   options='{"terminology": "archive"}'/>
                        </button>
                    </div>
                    <field name="image" widget='image' class="oe_avatar"
                           options='{"preview_image": "avatar_128"}'/>
                    <div class="oe_title">
                        <h1>
                            <field name="complete_name" />
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="name" />
                            <field name="code"/>
                            <field name="sequence"/>
                            <field name="value1"/>
                            <field name="value2"/>
                            <field name="value3"/>
                        </group>
                        <group>
                            <field name="fld_cat"
                                   options="{'no_open': True, 'no_create': True}"/>
                            <field name="req_category"
                                   options="{'no_open': True, 'no_create': True}"
                                   invisible="cat_type in ['reason', 'type', 'state']"/>
                            <label for="tag_range"/>
                            <div class="o_row">
                                <field name="tag_range" readonly="1"/>
                                <button name="action_get_tag_range" type="object"
                                        string="Choose Tags" class="btn-primary"/>
                            </div>
                            <field name="cat_type"/>
                            <field name="parent_cat" invisible="'cat_type' != 'tag'"/>
                            <field name="model_id" widget="selection"
                                   invisible="'hide_model' in context"/>
                        </group>
                    </group>
                    <notebook colspan="4">
                        <page string="Notes">
                            <group>
                                <group>
                                    <field name="description"
                                           placeholder="Description shown to user..."/>
                                </group>
                            </group>
                        </page>
                        <page string="Control" invisible="cat_type != 'state'">
                            <div id="warning_state_mixin" class="o_row">
                                **** Fields in this page have no real effect. To activate these features,
                                please install Tag State Control ****
                            </div>
                            <group>
                                <group string="Record Control">
                                    <field name="readonly_fields" readonly="1"/>
                                    <field name="required_fields" readonly="1"/>
                                    <div class="o_row">
                                        <button name="action_get_fields"
                                                type="object" string="Choose Fields" class="btn-primary"/>
                                    </div>
                                </group>
                                <group string="State Control">
                                    <field name="state_type"/>
                                    <field name="auto_process"/>
                                    <field name="other_field" required="auto_process == 'other'"/>
                                    <field name="move_to_state" required="auto_process"/>
                                    <field name="duration" required="state_type == 'todo'"/>
                                </group>
                                <group string="User Control">
                                    <field name="no_delete"/>
                                    <field name="no_write"/>
                                    <field name="state_group" required="state_type == 'todo'"/>
                                    <field name="requester_type" required="state_type == 'request'"/>
                                    <field name="refer_requester" invisible="state_type != 'todo'"/>
                                </group>
                            </group>
                        </page>
                   </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_tag_view_simple" model="ir.actions.act_window">
        <field name="name">Tags</field>
        <field name="res_model">tag.tag</field>
        <field name="view_mode">list</field>
        <field name="context" eval="{'create': False, 'edit': False, 'delete': False,
                                     'group_by': ['fld_cat']}"/>
        <field name="help" type="html">
        	<p class="o_view_nocontent_smiling_face">
                Add new tag
              </p><p>
                Tags is a multi-relational field to any model. Tags are grouped into 
                categories. Just add Tag to any model to add or take over model 
                category, type, state. This opens up to manage all tags of all 
                models though single interface and control how tag can effect or
                enhance models.
            </p>
        </field>
    </record>

    <record id="action_tag_view" model="ir.actions.act_window">
        <field name="name">Tags</field>
        <field name="res_model">tag.tag</field>
        <field name="view_mode">list,form</field>
        <field name="view_ids"
               eval="[(5, 0, 0),
                      (0, 0, {'view_mode': 'list', 'view_id': ref('tag.view_tag_list')}),
                      (0, 0, {'view_mode': 'form', 'view_id': ref('tag.view_tag_form')})]"/>
        <field name="context">{'group_by': ['model_id', 'fld_cat']}</field>
        <field name="help" type="html">
        	<p class="o_view_nocontent_smiling_face">
                Add new tag
              </p><p>
                Tags is a multi-relational field to any model. Tags are grouped into 
                categories. Just add Tag to any model to add or take over model 
                category, type, state. This opens up to manage all tags of all 
                models though single interface and control how tag can effect or
                enhance models.
           </p>
        </field>
    </record>
    <record id="action_tag_view_by_parent" model="ir.actions.act_window">
        <field name="name">Tags</field>
        <field name="res_model">tag.tag</field>
        <field name="view_mode">list,form</field>
        <field name="context">{'group_by': ['parent_cat', 'fld_cat']}</field>
        <field name="view_ids"
               eval="[(5, 0, 0),
                      (0, 0, {'view_mode': 'form', 'view_id': ref('view_tag_form')}),
                      (0, 0, {'view_mode': 'list', 'view_id': ref('view_tag_list')})]"/>
        <field name="help" type="html">
        	<p class="o_view_nocontent_smiling_face">
                Add new tag
              </p><p>
                Tags is a multi-relational field to any model. Tags are grouped into 
                categories. Just add Tag to any model to add or take over model 
                category, type, state. This opens up to manage all tags of all 
                models though single interface and control how tag can effect or
                enhance models.
           </p>
        </field>
    </record>

</odoo>
